##############31-Mar-2025##########
Why Playwright 
pip - package installer 
C:\Users\bgh51043>where python
C:\Users\bgh51043\AppData\Local\Programs\Python\Python37-32\python.exe
C:\Users\bgh51043\AppData\Local\Microsoft\WindowsApps\python.exe

git:
C:\Users\bgh51043\PycharmProjects\PytestPython
S C:\Users\bgh51043\PycharmProjects\PytestPython>

git : 
/i/Learnings/Raghavendra/2025_DevOps
/i/Learnings/Raghavendra/PythonProjects/playwright



jar  - java world packages 
pip install -U pytest 

pip install pytest-playwright

Install browsers : 
playwright install 

Fixtures : 
About Pytest fixtures
defining 

-Prefixing function name with test_
-@pytest.fixture
-@pytest.fixture(scope="module")
-Defining scope of pytest fixture as module or function 
-Sending pytest fixture function name as argument 

conftest.py

session scope 

How to run all tests together ?
pytest -s ( to display output)
pytest 

yield keyword 

returning values from functions 
@pytest.mark.skip

python -m platwright install 

@pytest.mark.smoke
pytest -m smoke 
to run tests with smoke tag 

Below covers section 5 : 
Launching browser.
finding elements and writing code for it 

#########Chromium engine browser with playwright fixture 
-created a simple function to launce browser : 
def test_playwrightBasics(playwright):
    browser = playwright.chromium.launch(headless=False)
    context = browser.new_context()
    page = context.new_page()
    page.goto("https://rahulshettyacademy.com")
	
def test_playwrightShortCut(page:Page):
    page.goto("https://rahulshettyacademy.com")
	
running test using commandline : 
 pytest test_playwrightBasics.py::test_playwrightShortCut --headed
 
 
passing --headed arguments for test 


def test_coreLocators(page:Page):
    page.goto("https://rahulshettyacademy.com/loginpagePractise")
    page.get_by_label("Username:").fill("rahulshettyacademy")
    page.get_by_label("Password:").fill("learning")
    page.get_by_role("combobox").select_option("teach")
    time.sleep(5)
	
get_by_role for dropbox , combobox etc 

label will not work in all cases 
-it should have input
-or id associated .

css #id
css .classname 

def test_coreLocators(page:Page):
    page.goto("https://rahulshettyacademy.com/loginpagePractise")
    page.get_by_label("Username:").fill("rahulshettyacademy")
    page.get_by_label("Password:").fill("learning")
    page.get_by_role("combobox").select_option("teach")
    page.locator("#terms").check()
    page.get_by_role("link",name="terms and conditions")
    page.get_by_role("button",name="Sign In").click()
    time.sleep(5)
	
	
s6: Playwright ui methods with real time examples 
TC : enter wrong creds and capture error message 

Autowait example 
 1 lecture explained about autowait .
 and this code 
 from playwright.sync_api import Page, expect
 
 expect(page.get_by_text("Incorrect username/password.")).to_be_visible()
 
 
 ###Running test in firefox browser 
 def test_firefoxBrowser(playwright):
    firefoxBrowser = playwright.firefox
    browser = firefoxBrowser.launch(headless=False)
    page = browser.new_page()
    page.goto("https://rahulshettyacademy.com/loginpagePractise")
	

################April 2 , 2025##########	
##Filter working on dynamic selection of card items in the list 
select given 2 products and add to the cart 
css selector - id , tag and classname 
selector hub -plugin
here we selected iphone x and nokia edge and added to cart
clicked on checkout
verified whether 2 items are present in checkout 

def test_UIValidationsDynamicScript(page:Page):
    page.goto("https://rahulshettyacademy.com/loginpagePractise")
    page.get_by_label("Username:").fill("rahulshettyacademy")
    page.get_by_label("Password:").fill("learning")
    page.get_by_role("combobox").select_option("teach")
    page.locator("#terms").check()
    page.get_by_role("button", name="Sign In").click()
    #expect(page.get_by_text("Incorrect username/password.")).to_be_visible()
    #adding items and verifying if its showing in cart
    iphoneProduct = page.locator("app-card").filter(has_text="iphone X")
    iphoneProduct.get_by_role("button").click()
    nokiaEdge = page.locator("app-card").filter(has_text="Nokia Edge")
    nokiaEdge.get_by_role("button").click()
    page.get_by_text("Checkout").click()
    expect(page.locator(".media-body")).to_have_count(2)
    time.sleep(5)

https://rahulshettyacademy.com/loginpagePractise/
page.get_by_label("Username:").fill("rahulshettyacademy")
page.get_by_label("Password:").fill("learning")
	
###child windows and tabs 

def test_childWindowHandles(page:Page):
    page.goto("https://rahulshettyacademy.com/loginpagePractise")
    with page.expect_popup() as newPageInfo:
        page.locator(".blinkingText").click()
        childPage = newPageInfo.value
        text = childPage.locator(".red").text_content()
        print(text)
		
		
###python string methods for assertion 

        text = childPage.locator(".red").text_content()
        print(text)
        #Please email us at mentor@rahulshettyacademy.com with below template to receive response
        words = text.split("at")
        email = words[1].strip().split(" ")[0]
        print("Email")
        print(email)
        assert email == "mentor@rahulshettyacademy.com"

######S7 : UI functional validations with assersions using playwright python 
https://rahulshettyacademy.com/AutomationPractice/
getting attribute by placeholder 
Clicking on Hide and checking if hiding or not .
using assertion to verify it 


def test_UIChecks(page:Page):
    page.goto("https://rahulshettyacademy.com/AutomationPractice/")
    expect(page.get_by_placeholder("Hide/Show Example")).to_be_visible()
    page.get_by_role("button",name="Hide").click()
    expect(page.get_by_placeholder("Hide/Show Example")).to_be_hidden()
    time.sleep(5)
	
Handling Alerts and Pop ups 
lambda functions - functions without name - anonymous functions 
This section is regarding handling alerts using listener 
    page.on("dialog", lambda dialog: dialog.accept())
    page.get_by_role("button",name="Confirm")
	
Handling Frames : 
   ##Frame Handling
    pageFrame = page.frame_locator("#courses-iframe")
    pageFrame.get_by_role("link",name="All Access plan").click()
    expect(pageFrame.locator("body")).to_contain_text("Happy Subscibers")
reference will go from page to pageFrame 

Handling Web Tables automation : 
https://rahulshettyacademy.com/seleniumPractise/#/offers
check price of rice is 37 
#identify price column
#identify rice column 
#extract the price 
    page.goto("https://rahulshettyacademy.com/seleniumPractise/#/offers")
    page.locator("th")
    for index in range(page.locator("th").count()):
        if page.locator("th").nth(index).filter(has_text="Price").count() > 0 :
            colValue = index
            print(f"Price column value{colValue}")
            break
    riceRow = page.locator("tr").filter(has_text="Rice")
    expect(riceRow.locator("td").nth(colValue)).to_contain_text("37")
	
	
About mouse hover : 
    #Mouse Hover
    page.locator("#mousehover").hover()
    page.get_by_role("link",name="Top").click()

About hovering 

rahulshetty@gmail.com
Iamking@000

###Recording and Playback 
write the below command in pycharm terminal to start recording 
playwright codegen https://rahulshettyacademy.com/client